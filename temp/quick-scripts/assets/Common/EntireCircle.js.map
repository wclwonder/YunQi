{"version":3,"sources":["EntireCircle.js"],"names":["EntireCircle","spineIndex","needUpdate","createCfg","names","datas","cfg","radius","reverse","innerRadius","createCircle","node","cc","Node","a1","a2","r1","r2","sep","Math","PI","length","i","drawSector","parent","name","com","addComponent","Graphics","strokeColor","Color","BLACK","lineWidth","moveTo","cos","sin","lineTo","arc","stroke","label","createLabel","ma","rotation","rlabel","setPosition","Label","string","fontSize","color","load","module","exports"],"mappings":"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","file":"EntireCircle.js","sourceRoot":"..\\..\\..\\..\\assets\\Common","sourcesContent":["var EntireCircle = {\r\n    spineIndex: 1, //跟我画选择的动画\r\n    needUpdate(){\r\n    },\r\n    //创建默认的\r\n    createCfg(names,datas){\r\n        var cfg={};\r\n        cfg.radius=370\r\n        \r\n        cfg.names=names;\r\n        cfg.datas=datas;\r\n        cfg.reverse=true;\r\n\r\n        cfg.innerRadius=cfg.radius*0.6\r\n\r\n        return cfg;\r\n    },\r\n    createCircle(cfg){\r\n        var node=new cc.Node();\r\n        \r\n        var a1=0;\r\n        var a2=1;\r\n        var r1=cfg.radius;\r\n        var r2=cfg.innerRadius;\r\n        var sep=2*Math.PI/cfg.datas.length;\r\n        if(cfg.reverse){\r\n            sep=-sep;\r\n        }\r\n\r\n        for(var i=0;i<cfg.datas.length;++i){\r\n            this.drawSector(node,a1,a1+sep,r1,r2,cfg.names[i]);\r\n            a1+=sep;\r\n        }\r\n        \r\n\r\n        return node;\r\n    },\r\n    drawSector(parent,a1,a2,r1,r2,name){\r\n        var node=new cc.Node();\r\n        var com=node.addComponent(cc.Graphics);\r\n        node.parent=parent;\r\n\r\n        com.strokeColor=cc.Color.BLACK\r\n        com.lineWidth=2\r\n\r\n        com.moveTo(r1*Math.cos(a1),r1*Math.sin(a1));\r\n        com.lineTo(r2*Math.cos(a1),r2*Math.sin(a1))\r\n        com.arc(0, 0, r1, a1, a2, true);\r\n        com.arc(0, 0, r2, a1, a2, true);\r\n\r\n        com.moveTo(r1*Math.cos(a2),r1*Math.sin(a2));\r\n        com.lineTo(r2*Math.cos(a2),r2*Math.sin(a2))\r\n\r\n        com.stroke();\r\n\r\n        var label=this.createLabel(node,name);\r\n\r\n        var ma=(a1+a2)/2\r\n        label.rotation=-ma*180/Math.PI+90\r\n\r\n        var rlabel=r1*0.9\r\n        label.setPosition(rlabel*Math.cos(ma),rlabel*Math.sin(ma))\r\n    },\r\n    createLabel(parent,name){\r\n        var node=new cc.Node();\r\n        node.parent=parent;\r\n        var com=node.addComponent(cc.Label);\r\n        com.string=name\r\n\r\n        com.fontSize=25\r\n        node.color=cc.Color.BLACK;\r\n\r\n\r\n        return node\r\n\r\n    },\r\n    load: function() {\r\n    }\r\n};\r\nEntireCircle.load();\r\n\r\nmodule.exports = EntireCircle;"]}